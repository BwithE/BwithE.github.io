<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Boxing Battle</title>

<style>
body {
  margin: 0;
  background-color: #fff;
  font-family: "Courier New", monospace;
  touch-action: manipulation;
}

.battle-screen {
  width: 100vw;
  max-width: 800px;
  height: 100vh;
  max-height: 600px;
  margin: 0 auto;
  border: 4px solid #000;
  position: relative;
  background-color: #f0f0f0;
  overflow: hidden;
}

/* Fighters */
.fighter {
  position: absolute;
  width: min(40vw, 200px);
  height: min(40vw, 200px);
  font-size: 2rem;
}

#player {
  bottom: 15%;
  left: 5%;
}

#opponent {
  top: 10%;
  right: 5%;
}

/* Stats */
.stats-box {
  border: 4px solid #000;
  background-color: #fff;
  padding: 10px;
  position: absolute;
  width: min(45vw, 200px);
  font-size: 0.9rem;
}

#player-stats {
  bottom: 35%;
  right: 5%;
}

#opponent-stats {
  top: 5%;
  left: 5%;
}

.hp-bar {
  width: 100%;
  height: 20px;
  background-color: #ccc;
  margin-top: 5px;
}

.hp-remaining {
  height: 100%;
  background-color: #2ecc71;
  width: 100%;
  transition: width 0.3s;
}

/* Menu */
.menu-box {
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 180px;
  border-top: 4px solid #000;
  background-color: #fff;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  padding: 15px;
  box-sizing: border-box;
}

.menu-item {
  background-color: #fff;
  border: 2px solid #000;
  padding: 16px;
  text-align: center;
  font-size: clamp(16px, 4vw, 20px);
  cursor: pointer;
}

.menu-item:active {
  background-color: #e0e0e0;
}

/* Message box */
#battle-message {
  position: absolute;
  bottom: 190px;
  left: 10px;
  right: 10px;
  padding: 12px;
  background: #fff;
  border: 3px solid #000;
  display: none;
  text-align: center;
  font-size: 0.95rem;
}

/* Mobile tweaks */
@media (max-width: 600px) {
  .fighter {
    font-size: 2.5rem;
  }
}
</style>
</head>

<body>
<div class="battle-screen">

  <div id="opponent" class="fighter">ðŸ‘Š Opponent</div>
  <div id="player" class="fighter">ðŸ¥Š Player</div>

  <div id="opponent-stats" class="stats-box">
    OPPONENT Lv.15
    <div class="hp-bar">
      <div class="hp-remaining" id="opponent-hp"></div>
    </div>
    HP: <span id="opponent-hp-text">100/100</span>
  </div>

  <div id="player-stats" class="stats-box">
    PLAYER Lv.15
    <div class="hp-bar">
      <div class="hp-remaining" id="player-hp"></div>
    </div>
    HP: <span id="player-hp-text">100/100</span>
  </div>

  <div id="battle-message"></div>

  <div class="menu-box">
    <div class="menu-item" onclick="fight()">FIGHT</div>
    <div class="menu-item" onclick="useItem()">ITEM</div>
    <div class="menu-item" onclick="cry()">CRY</div>
    <div class="menu-item" onclick="scream()">SCREAM</div>
  </div>

</div>

<script>
let playerHealth = 100;
let opponentHealth = 100;
let isPlayerTurn = true;

const bullyResponses = [
  "Haha! Is that all you got?",
  "That scream was adorable.",
  "I've heard louder mice.",
  "You call that intimidating?",
  "Wow. Truly terrifying."
];

const bullyTaunts = [
  "*throws pocket sand*",
  "*makes chicken noises*",
  "*does a goofy dance*",
  "*laughs loudly*",
  "*points and giggles*"
];

function updateHealth() {
  playerHealth = Math.max(0, playerHealth);
  opponentHealth = Math.max(0, opponentHealth);

  document.getElementById("player-hp").style.width = playerHealth + "%";
  document.getElementById("opponent-hp").style.width = opponentHealth + "%";
  document.getElementById("player-hp-text").textContent = `${playerHealth}/100`;
  document.getElementById("opponent-hp-text").textContent = `${opponentHealth}/100`;
}

function showMessage(text) {
  const box = document.getElementById("battle-message");
  box.textContent = text;
  box.style.display = "block";

  setTimeout(() => {
    box.style.display = "none";
  }, 2000);
}

function opponentTurn() {
  isPlayerTurn = false;

  setTimeout(() => {
    if (Math.random() > 0.3) {
      const damage = Math.floor(Math.random() * 15) + 5;
      playerHealth -= damage;
      showMessage(`Opponent punches you for ${damage} damage!`);
    } else {
      opponentHealth = Math.min(100, opponentHealth + 15);
      showMessage("Opponent drinks water and heals 15 HP!");
    }

    updateHealth();
    if (!checkGameEnd()) {
      isPlayerTurn = true;
    }
  }, 1000);
}

function fight() {
  if (!isPlayerTurn) return;

  const damage = Math.floor(Math.random() * 20) + 10;
  opponentHealth -= damage;
  showMessage(`You hit for ${damage} damage!`);

  updateHealth();
  if (!checkGameEnd()) opponentTurn();
}

function useItem() {
  if (!isPlayerTurn) return;

  playerHealth = Math.min(100, playerHealth + 20);
  showMessage("You healed 20 HP!");

  updateHealth();
  opponentTurn();
}

function cry() {
  if (!isPlayerTurn) return;

  showMessage("You start crying...");
  setTimeout(() => {
    showMessage(bullyTaunts[Math.floor(Math.random() * bullyTaunts.length)]);
    opponentTurn();
  }, 1000);
}

function scream() {
  if (!isPlayerTurn) return;

  showMessage("You scream loudly!");
  setTimeout(() => {
    showMessage(bullyResponses[Math.floor(Math.random() * bullyResponses.length)]);
    opponentTurn();
  }, 1000);
}

function checkGameEnd() {
  if (opponentHealth <= 0) {
    showMessage("ðŸŽ‰ You won the match!");
    resetGame();
    return true;
  }
  if (playerHealth <= 0) {
    showMessage("ðŸ’€ You lost the match!");
    resetGame();
    return true;
  }
  return false;
}

function resetGame() {
  setTimeout(() => {
    playerHealth = 100;
    opponentHealth = 100;
    isPlayerTurn = true;
    updateHealth();
  }, 1500);
}

updateHealth();
</script>
</body>
</html>
